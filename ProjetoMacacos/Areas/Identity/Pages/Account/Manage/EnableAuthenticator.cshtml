@page
@model EnableAuthenticatorModel
@{
    ViewData["Title"] = "Configurar Aplicativo Autenticador";
    ViewData["ActivePage"] = ManageNavPages.TwoFactorAuthentication;
}

<div class="auth-container">
    <h3>@ViewData["Title"]</h3>
    <partial name="_StatusMessage" for="StatusMessage" />

    <p>Para usar um aplicativo autenticador, siga as etapas abaixo:</p>

    <ol class="list">
        <li>
            <p>
                Baixe um aplicativo de autenticação de dois fatores como
                <strong>Microsoft Authenticator</strong> para
                <a href="https://go.microsoft.com/fwlink/?Linkid=825072">Android</a> e
                <a href="https://go.microsoft.com/fwlink/?Linkid=825073">iOS</a>,
                ou <strong>Google Authenticator</strong> para
                <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=pt">Android</a> e
                <a href="https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8">iOS</a>.
            </p>
        </li>

        <li>
            <p>Escaneie o QR Code ou insira esta chave no aplicativo autenticador:</p>
            <kbd>@Model.SharedKey</kbd>

            <div id="qrCode" class="qr-box"></div>
            <div id="qrCodeData" data-url="@Model.AuthenticatorUri"></div>
        </li>

        <li>
            <p>Depois de configurar o aplicativo, ele gerará um código. Digite-o abaixo:</p>
            <div class="row">
                <div class="col-md-6">
                    <form id="send-code" method="post">
                        <div class="campo mb-3">
                            <label asp-for="Input.Code" class="form-label">Código de Verificação</label>
                            <input asp-for="Input.Code" class="form-control" autocomplete="off" placeholder="Digite o código" />
                        </div>
                        <button type="submit" class="btn-amarelo w-100">Verificar</button>
                        <a asp-area="" asp-controller="Home" asp-action="Index" class="btn-preto w-100 mt-2">← Voltar à Página Inicial</a>
                    </form>
                </div>
            </div>
        </li>
    </ol>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    body {
        background-color: #000;
        color: #FFD700;
        font-family: 'Poppins', 'Segoe UI', Tahoma, sans-serif;
        text-align: center;
        margin-top: 40px;
    }

    .auth-container {
        background-color: #111;
        max-width: 700px;
        margin: auto;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        border: 1px solid #FFD700;
        text-align: left;
    }

    h3 {
        color: #FFD700;
        font-size: 2rem;
        margin-bottom: 20px;
        text-align: center;
        font-weight: bold;
    }

    .list {
        margin-left: 20px;
    }

        .list li {
            margin-bottom: 18px;
        }

    /* Inputs */
    .form-control {
        background-color: #000;
        color: #FFD700;
        border: 1px solid #FFD700;
        border-radius: 10px;
        padding: 12px;
        transition: 0.3s;
    }

        .form-control:focus {
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.4);
            border-color: #e6c200;
            outline: none;
        }

    .form-label {
        color: #FFD700;
        font-weight: 500;
        margin-bottom: 5px;
    }

    /* Botões */
    .btn-amarelo, .btn-preto {
        display: inline-block;
        padding: 12px;
        border-radius: 10px;
        font-weight: bold;
        text-transform: uppercase;
        text-align: center;
        text-decoration: none;
        transition: 0.3s;
        border: none;
    }

    .btn-amarelo {
        background-color: #FFD700;
        color: #000;
    }

        .btn-amarelo:hover {
            background-color: #e6c200;
            transform: scale(1.05);
        }

    .btn-preto {
        background-color: transparent;
        color: #FFD700;
        border: 1px solid #FFD700;
    }

        .btn-preto:hover {
            background-color: #1a1a1a;
            transform: scale(1.05);
        }

    /* QR Code */
    .qr-box {
        padding: 15px;
        border: 1px dashed #FFD700;
        border-radius: 10px;
        background: #000;
        color: #FFD700;
        text-align: center;
        margin-top: 10px;
    }

    kbd {
        background-color: #333;
        color: #FFD700;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 1rem;
    }
</style>
